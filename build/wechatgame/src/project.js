require=function c(n,r,_){function h(e,t){if(!r[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(a)return a(e,!0);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}var o=r[e]={exports:{}};n[e][0].call(o.exports,function(t){return h(n[e][1][t]||t)},o,o.exports,c,n,r,_)}return r[e].exports}for(var a="function"==typeof require&&require,t=0;t<_.length;t++)h(_[t]);return h}({cow:[function(t,e,i){"use strict";cc._RF.push(e,"46842BrNyFCK7PxJewXcITP","cow");var s=cc.Class({name:"cow_skin",properties:{cow_anim:{type:cc.SpriteFrame,default:[]}}});cc.Class({extends:cc.Component,properties:{cow_skin_set:{default:[],type:s}},onLoad:function(){this.game_scene=cc.find("UI_ROOT").getComponent("game_scenes"),this.anim_com=this.node.addComponent("frame_anim"),this.cow_type=3*Math.random()+1,this.cow_type=Math.floor(this.cow_type),4<=this.cow_type&&(this.cow_type=1),this._play_cow_walk(),this.speed_x=-(200*Math.random()+200)},_play_cow_walk:function(){this.anim_com.sprite_frames=this.cow_skin_set[this.cow_type-1].cow_anim,this.anim_com.duration=.2,this.anim_com.play_loop()},update:function(t){var e=this.speed_x*t;this.node.x+=e,this.node.x<=-540&&(this.game_scene.remove_from_cow_set(this.node),this.node.removeFromParent())}}),cc._RF.pop()},{}],frame_anim:[function(t,e,i){"use strict";cc._RF.push(e,"83f84VPkiRMTIigKSvMpd4X","frame_anim"),cc.Class({extends:cc.Component,properties:{sprite_frames:{default:[],type:cc.SpriteFrame},duration:.1,loop:!1,play_onload:!1},onLoad:function(){var t=this.node.getComponent(cc.Sprite);t||(t=this.node.addComponent(cc.Sprite)),this.sprite=t,this.is_playing=!1,this.play_time=0,this.is_loop=!1,this.end_func=null,this.play_onload&&(this.sprite.spriteFrame=this.sprite_frames[0],this.loop?this.play_loop():this.play_once(null))},play_once:function(t){this.play_time=0,this.is_playing=!0,this.is_loop=!1,this.end_func=t},play_loop:function(){this.play_time=0,this.is_playing=!0,this.is_loop=!0},stop_anim:function(){this.play_time=0,this.is_playing=!1,this.is_loop=!1},start:function(){},update:function(t){if(!1!==this.is_playing){this.play_time+=t;var e=Math.floor(this.play_time/this.duration);if(!1===this.is_loop){if(e>=this.sprite_frames.length)return this.sprite.spriteFrame=this.sprite_frames[this.sprite_frames.length-1],this.is_playing=!1,this.play_time=0,void(this.end_func&&this.end_func());this.sprite.spriteFrame=this.sprite_frames[e]}else{for(;e>=this.sprite_frames.length;)e-=this.sprite_frames.length,this.play_time-=this.duration*this.sprite_frames.length;this.sprite.spriteFrame=this.sprite_frames[e]}}}}),cc._RF.pop()},{}],game_scenes:[function(t,e,i){"use strict";cc._RF.push(e,"a57fdo1+gdIhZ7PALzeE4Df","game_scenes"),cc.Class({extends:cc.Component,properties:{cow_prefab:{type:cc.Prefab,default:null}},onLoad:function(){this.is_start=!1,this.cow_set=[],this.checkout_root=cc.find("UI_ROOT/checkout_root"),this.checkout_src=cc.find("UI_ROOT/checkout_root/bg_mask/score").getComponent(cc.Label),this.time_src=cc.find("UI_ROOT/time").getComponent(cc.Label),this.cow_src=cc.find("UI_ROOT/cow_count").getComponent(cc.Label),this.start_game()},_on_timer:function(){if(this.time_count--,this.time_src.string=""+this.time_count,this.time_count<=0)return this.unscheduleAllCallbacks(),this.checkout_root.active=!0,this.checkout_src.string="分数："+this.cow_count,void this.is_start;this.scheduleOnce(this._on_timer.bind(this),1)},start_game:function(){console.log("测试开始"),this.checkout_root.active=!1,this.is_start=!0,this.cow_count=0,this.cow_src.string=""+this.cow_count,this.time_count=60,this.time_src.string=""+this.time_count,this.checkout_root.setLocalZOrder(3e3),this.unscheduleAllCallbacks(),this.scheduleOnce(this._on_timer.bind(this),1),this._gen_cow()},remove_from_cow_set:function(t){var e=this.cow_set.indexOf(t);this.cow_set.splice(e,1)},hit_cow:function(){for(var t=-1,e=0;e<this.cow_set.length;e++)if(70<=this.cow_set[e].x&&this.cow_set[e].y<=130)return t=this.cow_set[e].getComponent("cow").cow_type,this.cow_set[e].removeFromParent(),this.cow_set.splice(e,1),this.cow_count++,this.cow_src.string=""+this.cow_count,t;return-1},_gen_cow:function(){var t=cc.instantiate(this.cow_prefab);this.node.addChild(t),t.active=!0,t.x=640,t.y=-100,this.cow_set.push(t),this.scheduleOnce(this._gen_cow.bind(this),3*Math.random()+4)},start:function(){this.node.getChildByName("shoot_action").setLocalZOrder(2e3),this.node.getChildByName("rope").setLocalZOrder(1e3)}}),cc._RF.pop()},{}],rope:[function(t,e,i){"use strict";cc._RF.push(e,"7f2ecQUHORGEqW+dmgHqyLc","rope"),cc.Class({extends:cc.Component,properties:{rope_empty:{type:cc.SpriteFrame,default:null},rope_with_cow:{type:cc.SpriteFrame,default:[]}},onLoad:function(){this.node.x=0,this.node.y=-560,this.is_shooting=!1,this.game_scene=cc.find("UI_ROOT").getComponent("game_scenes"),this._set_rope_empty()},_set_rope_empty:function(){this.getComponent(cc.Sprite).spriteFrame=this.rope_empty},_set_rope_with_cow:function(t){t<1||3<t||(console.log("嘻嘻"+t),this.getComponent(cc.Sprite).spriteFrame=this.rope_with_cow[t-1])},shoot_out:function(){if(1!=this.is_shooting){this.is_shooting=!0;var t=cc.moveTo(.5,0,-100),e=cc.callFunc(function(){var t=this.game_scene.hit_cow();1<=t&&t<=3&&this._set_rope_with_cow(t)}.bind(this),this.node),i=cc.moveTo(.5,0,-560),s=cc.callFunc(function(){this._set_rope_empty(),this.is_shooting=!1}.bind(this),this.node),o=cc.sequence([t,e,i,s]);this.node.runAction(o)}}}),cc._RF.pop()},{}]},{},["cow","frame_anim","game_scenes","rope"]);