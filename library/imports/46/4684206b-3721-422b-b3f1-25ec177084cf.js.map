{"version":3,"sources":["../../../../assets/scripts/assets/scripts/cow.js"],"names":["cow_skin","cc","Class","name","properties","cow_anim","type","SpriteFrame","default","extends","Component","cow_skin_set","onLoad","game_scene","find","getComponent","anim_com","node","addComponent","cow_type","Math","random","floor","_play_cow_walk","speed_x","sprite_frames","duration","play_loop","update","dt","s","x","remove_from_cow_set","removeFromParent"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,WAAWC,GAAGC,KAAH,CAAS;AACpBC,UAAM,UADc;AAEpBC,gBAAY;;AAERC,kBAAS;AACLC,kBAAML,GAAGM,WADJ;AAELC,qBAAQ;AAFH;AAFD;AAFQ,CAAT,CAAf;;AAWAP,GAAGC,KAAH,CAAS;AACLO,aAASR,GAAGS,SADP;;AAGLN,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAO,sBAAa;AACTH,qBAAQ,EADC;AAETF,kBAAKN;AAFI;;AAjBL,KAHP;;AA2BL;;AAEAY,YAAQ,kBAAU;AACd,aAAKC,UAAL,GAAkBZ,GAAGa,IAAH,CAAQ,SAAR,EAAmBC,YAAnB,CAAgC,aAAhC,CAAlB;;AAEA,aAAKC,QAAL,GAAgB,KAAKC,IAAL,CAAUC,YAAV,CAAuB,YAAvB,CAAhB;AACA,aAAKC,QAAL,GAAgBC,KAAKC,MAAL,KAAgB,CAAhB,GAAoB,CAApC;AACA,aAAKF,QAAL,GAAgBC,KAAKE,KAAL,CAAW,KAAKH,QAAhB,CAAhB;AACA,YAAI,KAAKA,QAAL,IAAiB,CAArB,EAAwB;AACpB,iBAAKA,QAAL,GAAgB,CAAhB;AACH;AACD,aAAKI,cAAL;AACA,aAAKC,OAAL,GAAe,EAAEJ,KAAKC,MAAL,KAAgB,GAAhB,GAAsB,GAAxB,CAAf;AACH,KAxCI;;AA0CLE,oBAAgB,0BAAU;AACtB,aAAKP,QAAL,CAAcS,aAAd,GAA8B,KAAKd,YAAL,CAAkB,KAAKQ,QAAL,GAAgB,CAAlC,EAAqCd,QAAnE;AACA,aAAKW,QAAL,CAAcU,QAAd,GAAyB,GAAzB;AACA,aAAKV,QAAL,CAAcW,SAAd;AACH,KA9CI;;AAgDLC,YAAQ,gBAAUC,EAAV,EAAa;AACjB,YAAIC,IAAI,KAAKN,OAAL,GAAeK,EAAvB;AACA,aAAKZ,IAAL,CAAUc,CAAV,IAAeD,CAAf;;AAEA,YAAI,KAAKb,IAAL,CAAUc,CAAV,IAAe,CAAC,GAApB,EAAyB;AACrB,iBAAKlB,UAAL,CAAgBmB,mBAAhB,CAAoC,KAAKf,IAAzC;AACA,iBAAKA,IAAL,CAAUgB,gBAAV;AACH;AACJ;;AAxDI,CAAT","file":"cow.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\nvar cow_skin = cc.Class({\n    name: \"cow_skin\",\n    properties: {\n\n        cow_anim:{\n            type: cc.SpriteFrame,\n            default:[],\n        },\n    }\n});\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n\n        cow_skin_set:{\n            default:[],\n            type:cow_skin, \n        },\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad: function(){\n        this.game_scene = cc.find(\"UI_ROOT\").getComponent(\"game_scenes\");\n\n        this.anim_com = this.node.addComponent(\"frame_anim\");\n        this.cow_type = Math.random() * 3 + 1;\n        this.cow_type = Math.floor(this.cow_type);\n        if (this.cow_type >= 4) {\n            this.cow_type = 1;\n        };\n        this._play_cow_walk();\n        this.speed_x = -(Math.random() * 200 + 200);\n    },\n\n    _play_cow_walk: function(){\n        this.anim_com.sprite_frames = this.cow_skin_set[this.cow_type - 1].cow_anim;\n        this.anim_com.duration = 0.2;\n        this.anim_com.play_loop();\n    },\n\n    update: function (dt){\n        var s = this.speed_x * dt;\n        this.node.x += s;\n\n        if (this.node.x <= -540) {\n            this.game_scene.remove_from_cow_set(this.node);\n            this.node.removeFromParent();\n        };\n    },\n    \n});\n\n\n\n\n\n\n\n\n"]}