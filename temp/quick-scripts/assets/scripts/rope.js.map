{"version":3,"sources":["rope.js"],"names":["cc","Class","extends","Component","properties","rope_empty","type","SpriteFrame","default","rope_with_cow","onLoad","node","x","y","is_shooting","game_scene","find","getComponent","_set_rope_empty","s","Sprite","spriteFrame","_set_rope_with_cow","cow_type","console","log","shoot_out","m1","moveTo","mid_func","callFunc","hit_cow","bind","m2","end_func","seq","sequence","runAction"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,oBAAW;AACPC,kBAAMN,GAAGO,WADF;AAEPC,qBAAS;AAFF,SAjBH;;AAsBRC,uBAAe;AACXH,kBAAMN,GAAGO,WADE;AAEXC,qBAAS;AAFE;AAtBP,KAHP;;AA+BLE,YAAQ,kBAAU;AACd,aAAKC,IAAL,CAAUC,CAAV,GAAc,CAAd;AACA,aAAKD,IAAL,CAAUE,CAAV,GAAc,CAAC,GAAf;AACA,aAAKC,WAAL,GAAmB,KAAnB;;AAEA,aAAKC,UAAL,GAAkBf,GAAGgB,IAAH,CAAQ,SAAR,EAAmBC,YAAnB,CAAgC,aAAhC,CAAlB;AACA,aAAKC,eAAL;AACH,KAtCI;;AAwCLA,qBAAiB,2BAAU;AACvB,YAAIC,IAAI,KAAKF,YAAL,CAAkBjB,GAAGoB,MAArB,CAAR;;AAEA;AACE;AACAD,UAAEE,WAAF,GAAgB,KAAKhB,UAArB;AACL,KA9CI;;AAgDLiB,wBAAoB,4BAAUC,QAAV,EAAmB;AACnC,YAAIA,WAAW,CAAX,IAAgBA,WAAW,CAA/B,EAAkC;AAC9B;AACH;;AAEAC,gBAAQC,GAAR,CAAY,OAAOF,QAAnB;AACD,YAAIJ,IAAI,KAAKF,YAAL,CAAkBjB,GAAGoB,MAArB,CAAR;AACD;AACED,UAAEE,WAAF,GAAgB,KAAKZ,aAAL,CAAmBc,WAAW,CAA9B,CAAhB;AACJ,KAzDI;;AA2DLG,eAAW,qBAAW;;AAElB,YAAI,KAAKZ,WAAL,IAAoB,IAAxB,EAA8B;AAC1B;AACH;;AAGD,aAAKA,WAAL,GAAmB,IAAnB;;AAEA,YAAIa,KAAK3B,GAAG4B,MAAH,CAAU,GAAV,EAAc,CAAd,EAAgB,CAAC,GAAjB,CAAT;AACA,YAAIC,WAAW7B,GAAG8B,QAAH,CAAY,YAAU;AACjC,gBAAIP,WAAW,KAAKR,UAAL,CAAgBgB,OAAhB,EAAf;;AAEA,gBAAIR,YAAY,CAAZ,IAAiBA,YAAY,CAAjC,EAAoC;AAChC;AACA,qBAAKD,kBAAL,CAAwBC,QAAxB;AACH;AAEJ,SAR0B,CAQzBS,IARyB,CAQpB,IARoB,CAAZ,EAQF,KAAKrB,IARH,CAAf;;AAUA,YAAIsB,KAAKjC,GAAG4B,MAAH,CAAU,GAAV,EAAc,CAAd,EAAgB,CAAC,GAAjB,CAAT;AACA,YAAIM,WAAWlC,GAAG8B,QAAH,CAAY,YAAU;AACjC,iBAAKZ,eAAL;AACA,iBAAKJ,WAAL,GAAmB,KAAnB;AACH,SAH0B,CAGzBkB,IAHyB,CAGpB,IAHoB,CAAZ,EAGF,KAAKrB,IAHH,CAAf;;AAKA,YAAIwB,MAAMnC,GAAGoC,QAAH,CAAY,CAACT,EAAD,EAAIE,QAAJ,EAAaI,EAAb,EAAgBC,QAAhB,CAAZ,CAAV;AACA,aAAKvB,IAAL,CAAU0B,SAAV,CAAoBF,GAApB;AACH;AAvFI,CAAT","file":"rope.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n\n        rope_empty:{\n            type: cc.SpriteFrame,\n            default: null,\n        },\n\n        rope_with_cow: {\n            type: cc.SpriteFrame,\n            default: [],\n        },\n    },\n\n    onLoad: function(){\n        this.node.x = 0;\n        this.node.y = -560;\n        this.is_shooting = false;\n\n        this.game_scene = cc.find(\"UI_ROOT\").getComponent(\"game_scenes\");\n        this._set_rope_empty();\n    },\n\n    _set_rope_empty: function(){\n        var s = this.getComponent(cc.Sprite);\n\n        //s.SpriteFrame = new cc.SpriteFrame(cc.url.raw('resources/ropeCow1.png'));\n          // s.spriteFrame.setTexture(cc.url.raw('resources/ropeCow1.png')); \n          s.spriteFrame = this.rope_empty;\n    },\n\n    _set_rope_with_cow: function (cow_type){\n        if (cow_type < 1 || cow_type > 3) {\n            return;\n        };\n\n         console.log('嘻嘻' + cow_type);\n        var s = this.getComponent(cc.Sprite);\n       // s.spriteFrame.setTexture(cc.url.raw('resources/ropeCow2.png')); \n         s.spriteFrame = this.rope_with_cow[cow_type - 1];\n    },\n\n    shoot_out: function (){\n\n        if (this.is_shooting == true) {\n            return;\n        };\n\n        \n        this.is_shooting = true;\n        \n        var m1 = cc.moveTo(0.5,0,-100);\n        var mid_func = cc.callFunc(function(){\n            var cow_type = this.game_scene.hit_cow();\n\n            if (cow_type >= 1 && cow_type <= 3) {\n                // this.node.y = 112;\n                this._set_rope_with_cow(cow_type);\n            };\n\n        }.bind(this),this.node);\n\n        var m2 = cc.moveTo(0.5,0,-560);\n        var end_func = cc.callFunc(function(){\n            this._set_rope_empty();\n            this.is_shooting = false;\n        }.bind(this),this.node);\n\n        var seq = cc.sequence([m1,mid_func,m2,end_func]);\n        this.node.runAction(seq);\n    },\n});\n\n\n\n\n\n\n\n\n\n\n\n\n"]}